[gd_scene format=3 uid="uid://ccchxudnamfmu"]

[ext_resource type="PackedScene" uid="uid://bb4o85msbd0nm" path="res://player/warrior.tscn" id="1_1qeyn"]
[ext_resource type="Script" uid="uid://c8xw5mwlmwxmm" path="res://levels/arena_01.gd" id="1_vktri"]
[ext_resource type="Material" uid="uid://cw6uehrj074ks" path="res://levels/arena_floor.tres" id="2_srbc2"]
[ext_resource type="PackedScene" uid="uid://ckfkem13rb4r3" path="res://enemies/spawner/enemy_spawner_3d.tscn" id="3_fa7r7"]
[ext_resource type="PackedScene" uid="uid://cqpyd6h3yhn56" path="res://enemies/drone.tscn" id="3_x3w1s"]
[ext_resource type="LabelSettings" uid="uid://68gk8effu4dt" path="res://levels/text_label_settings.tres" id="4_vktri"]
[ext_resource type="FontFile" uid="uid://rkfjqnqlunle" path="res://fonts/spacerangerbold.ttf" id="5_uubbr"]

[sub_resource type="Sky" id="Sky_1qeyn"]

[sub_resource type="Environment" id="Environment_srbc2"]
background_mode = 1
background_color = Color(0.113720335, 0.06966034, 0.5983034, 1)
sky = SubResource("Sky_1qeyn")
ambient_light_source = 2
ambient_light_color = Color(0.6948744, 0.7091195, 0.9983943, 1)
tonemap_mode = 2

[node name="arena01" type="Node3D" unique_id=1770237495]
script = ExtResource("1_vktri")

[node name="EnemySpawner1" parent="." unique_id=2145415073 instance=ExtResource("3_fa7r7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -48.886, 0, -149.395)
enemy_to_spawn = ExtResource("3_x3w1s")

[node name="EnemySpawner2" parent="." unique_id=9138658 instance=ExtResource("3_fa7r7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 54.7127, 0, 129.7831)
enemy_to_spawn = ExtResource("3_x3w1s")

[node name="Wall" type="CSGTorus3D" parent="." unique_id=1744128105]
use_collision = true
inner_radius = 195.0
outer_radius = 220.0
sides = 10
smooth_faces = false
material = ExtResource("2_srbc2")

[node name="Floor" type="CSGCylinder3D" parent="." unique_id=462107712]
use_collision = true
radius = 200.0
height = 0.5
sides = 10
smooth_faces = false
material = ExtResource("2_srbc2")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=1604925813]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 500, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=575328766]
environment = SubResource("Environment_srbc2")

[node name="Player" parent="." unique_id=1369698572 instance=ExtResource("1_1qeyn")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)

[node name="LabelScore" type="Label" parent="." unique_id=643914298]
unique_name_in_owner = true
offset_left = 32.0
offset_top = 32.0
offset_right = 387.0
offset_bottom = 107.0
text = "Score: 0"
label_settings = ExtResource("4_vktri")

[node name="VBoxContainer" type="VBoxContainer" parent="." unique_id=2006635064]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -357.0
offset_top = 32.0
offset_right = -40.0
offset_bottom = 145.0
grow_horizontal = 0
size_flags_horizontal = 8
size_flags_vertical = 0

[node name="LabelEnergy" type="Label" parent="VBoxContainer" unique_id=1563772448]
layout_mode = 2
text = "Energy"
label_settings = ExtResource("4_vktri")

[node name="ProgressEnergy" type="ProgressBar" parent="VBoxContainer" unique_id=1701526372]
unique_name_in_owner = true
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("5_uubbr")
theme_override_font_sizes/font_size = 32
value = 100.0
rounded = true

[node name="GameOver" type="Panel" parent="." unique_id=1899200270]
unique_name_in_owner = true
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="GameOver" unique_id=1156860590]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -361.5
offset_top = -59.5
offset_right = 361.5
offset_bottom = 59.5
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("5_uubbr")
theme_override_font_sizes/font_size = 256
text = "Game Over"
horizontal_alignment = 1

[connection signal="enemy_spawned" from="EnemySpawner1" to="." method="_on_enemy_spawner_3d_enemy_spawned"]
[connection signal="enemy_spawned" from="EnemySpawner2" to="." method="_on_enemy_spawner_3d_enemy_spawned"]
[connection signal="died" from="Player" to="." method="_on_player_died"]
[connection signal="hit" from="Player" to="." method="_on_player_hit"]
